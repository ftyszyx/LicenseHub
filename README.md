# app_pay
pay for app


# 系统说明

## 背景：
我做了一个软件，想为这个软件做一个付费系统

需求如下：

用户可以在这个系统上买注册码，在我的软件输入后，就会绑定软件安装的设备。
1. 注册码需要有有效期
2. 注册码需要有设备绑定限制
3. 需要提供接口给客户端验证注册码是否有效
4. 系统需要提供支付功能，如支付宝和微信

现在需要实现这个系统：
1. 前端需要分用户端和管理员端，推荐使用vue3+tailwind实现
    用户端：
        可以查看可以购买的虚拟商品
        可以在页面中直接购买,购买后，会得到一个注册码
        可以查看对应注册码的有效期
    管理端：
    http://8.134.209.8:3232/admin#/  参考
        登录，注册
        仪表盘：显示总成交订单，总收入，总用户数，等
        商品管理：新增虚拟商品
        订单管理
        用户管理
        支付接口设置等
2、服务端：
    需要提供前端相关的接口，推荐使用rust的web框架实现。
    需要集成支持和管理功能

这有一个系统可参考：
展示页：https://tech.baiyue.one/#/byfaka
前台：http://8.134.209.8:3232/#/
后台：http://8.134.209.8:3232/admin#/
说明文档：http://8.134.209.8:3200/

前端规则
样式使用tailwind

相当于是一个商城：
https://github.com/macrozheng/mall

系统：
用户可以购买系统的商品，这个商品对应的是一个注册码，
注册码有有效期、不同有效期的价格不一样。
购买完后，系统会自动生成一个注册码
用户使用此注册码绑定设备后，系统会有记录
注册码会限制绑定设备数量，默认是一个设备。


日志记录功能(ok)
swagger api管理功能(ok)

商品分类表：
id
类型名
排序值
状态：正常，下架


商品表：
id
商品分类
商品名
图片url
标签
单价
排序
状态：上架，下架
发货模式：自动发货，手动发货
商品介绍：json 

注册码表
id:
注册码
绑定商品
绑定设备信息：
有效期：
order_id: 外键, 关联到 orders 表，追踪该注册码是由哪个订单生成的。
max_devices: 此注册码允许绑定的最大设备数量 (默认为 1)
status: 注册码当前状态 (例如: active, expired, banned)。
created_at: 注册码生成时间。
bindtime:



优惠券表：
id
优惠码
状态： 启用，末启用
适用范围：使用类型：0->全场通用；1->指定分类；2->指定商品' 
优惠类型：打折，固定优惠
适用范围信息：数组
优化类型信息:json
过期时间 

订单表：
id
状态：已支付，未支付，支付中
订单号
user_id:
商品信息：json 
支付方式：wechat,alipay
原价
优惠券：json
最终价
备注
交易时间
 


